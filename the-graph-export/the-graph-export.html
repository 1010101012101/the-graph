<link rel="import" href="../the-graph-process/the-graph-process.html">
<link rel="import" href="../the-graph-edge/the-graph-edge.html">


<polymer-element name="the-graph-export" attributes="private public position route" extends="the-graph-process">

  <script>
  (function(){
    // "use strict";

    Polymer('the-graph-export', {
      private: '',
      public: '',
      directionalGestureEnabled: false,
      ready: function () {
        this.super();

        var pos = this.getPosition();
        this._position = [pos.x, pos.y];
        this.positionChanged();
        this.graphZoom(this.zoom);
      },
      enteredView: function () {
        this.super();
      },
      getPrivate: function () {
        var split = this.private.split('.');
        return {
          node: split[0],
          port: split[1]
        };
      },
      highlightChanged: function () {
        // Don't highlight
        return;
      },
      toJSON: function () {
        var nodePos = this.getPosition();

        return {
          "public": this.public,
          "private": this.private,
          metadata: {
            x: nodePos.x,
            y: nodePos.y,
            route: this.route
          }
        };
      }

    });

  })();
  </script>
  
</polymer-element>
